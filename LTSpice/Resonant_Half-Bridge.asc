Version 4
SHEET 1 1620 680
WIRE -448 -176 -496 -176
WIRE 32 -176 -448 -176
WIRE 32 -144 32 -176
WIRE -16 -64 -128 -64
WIRE 768 -64 672 -64
WIRE 1008 -64 768 -64
WIRE 1056 -64 1008 -64
WIRE 672 -32 672 -64
WIRE 768 -32 768 -64
WIRE -448 -16 -448 -176
WIRE 32 16 32 -48
WIRE 32 16 -128 16
WIRE 160 16 32 16
WIRE 304 16 240 16
WIRE 416 16 304 16
WIRE 32 48 32 16
WIRE 304 64 304 16
WIRE 416 64 416 16
WIRE 672 64 672 32
WIRE 672 64 560 64
WIRE 1008 64 1008 -64
WIRE -16 128 -128 128
WIRE 768 144 768 32
WIRE 768 144 560 144
WIRE 672 176 672 64
WIRE 768 176 768 144
WIRE 32 208 32 144
WIRE 32 208 -128 208
WIRE -448 256 -448 64
WIRE 32 256 32 208
WIRE 32 256 -448 256
WIRE 160 256 32 256
WIRE 304 256 304 144
WIRE 304 256 224 256
WIRE 416 256 416 144
WIRE 416 256 304 256
WIRE -448 272 -448 256
WIRE 672 272 672 240
WIRE 768 272 768 240
WIRE 768 272 672 272
WIRE 1008 272 1008 144
WIRE 1008 272 768 272
WIRE 1056 272 1008 272
WIRE -32 480 -32 448
FLAG -448 272 0
FLAG 1056 272 COM
FLAG -32 448 COM
FLAG -32 560 0
FLAG 1056 -64 Vout
FLAG -496 -176 Vin
SYMBOL cap 224 240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName CR
SYMATTR Value {Cr}
SYMBOL ind 144 32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LR
SYMATTR Value 12µ
SYMATTR SpiceLine Ipk=8.2 Rser=0.02 Rpar=3150 Cpar=9.5p
SYMBOL ind 288 48 R0
WINDOW 0 -39 39 Left 2
WINDOW 3 -134 94 Left 2
SYMATTR InstName LM
SYMATTR Value {12µ*{Ln}}
SYMATTR SpiceLine Ipk=8.2 Rser=0.02 Rpar=3150 Cpar=9.5p
SYMBOL voltage -448 -32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VDC
SYMATTR Value {Vdc}
SYMBOL voltage -128 -80 R0
WINDOW 3 -521 -32 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 40 48 Left 2
SYMATTR Value PULSE(0 9 0 1n 1n {0.5/{Freq}} {1/{Freq}})
SYMATTR InstName VGH
SYMBOL voltage -128 112 R0
WINDOW 3 -522 116 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 41 49 Left 2
SYMATTR Value PULSE(9 0 0 1n 1n {0.5/{Freq}} {1/{Freq}})
SYMATTR InstName VGL
SYMBOL nmos -16 -144 R0
SYMATTR InstName M1
SYMATTR Value myNMOS
SYMBOL nmos -16 48 R0
SYMATTR InstName M2
SYMATTR Value myNMOS
SYMBOL ind2 400 160 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName LMP
SYMATTR Value 1
SYMATTR Type ind
SYMBOL ind2 576 160 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName LMS
SYMATTR Value 1
SYMATTR Type ind
SYMBOL res 992 48 R0
SYMATTR InstName RL
SYMATTR Value {Rload}
SYMBOL res -48 464 R0
SYMATTR InstName RGND
SYMATTR Value 1000k
SYMBOL diode 688 32 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -28 117 Left 2
SYMATTR InstName D1
SYMATTR Value myDiode
SYMBOL diode 688 240 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -5 -54 Left 2
SYMATTR InstName D2
SYMATTR Value myDiode
SYMBOL cap 752 176 R0
SYMATTR InstName CRECT2
SYMATTR Value 5µ
SYMBOL cap 752 -32 R0
SYMATTR InstName CRECT1
SYMATTR Value 5µ
TEXT 880 -240 Left 2 !.step param Freq 0 301000 1000
TEXT 248 -304 Left 2 !.tran 0 1m 0 300n uic
TEXT 56 -216 Left 2 !.model myDiode D(Ron=0.1n Roff=1Meg Vfwd=0.3 Vrev=30)
TEXT 880 -200 Left 2 !.meas GAIN PARAM V(Vout,COM)/V(Vin)
TEXT 880 -168 Left 2 !.option plotwinsize=0 numdgt=3
TEXT 880 -280 Left 2 !.param Freq=77750
TEXT 56 -184 Left 2 !.model myNMOS VDMOS(Vto = 3.3 Ron = 0.001m)
TEXT 400 -16 Left 2 !KALL LMP LMS 1
TEXT 1352 -240 Left 2 !.ic v(Vout)={{Vdc}*2}
TEXT -392 -304 Left 2 ;Configure Parameters here:
TEXT -512 -264 Left 2 !.param Vdc=3.3 Ln=0.67 Cr=211n Rload=40
TEXT -392 -224 Left 2 ;Configure Parameters here:
